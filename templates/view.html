{% extends "base.html" %}
{% block title %} View Your Note {% endblock %}
{% block head %} {{ super() }} {% endblock %}
{% block content %}
{{ super() }}

<div class="container-fluid">
  <div class="row">

    <div class="col-lg-6" align="center">
      <br><br>
      <h1>Check Your Post Statistics</h1>
      <p>
        <i> Curious about how many views and likes your note has received? </i>
      </p>
      <p>
        {{ info }}
      </p>
      <form method='POST' action=" {{ url_for('view') }}">
        {{ form.id.label}}
        <br>
        {{ form.id}}
        <br><br>
        {% for error in form.id.errors %}
        <span class="error">[{{ error }}]</span>
        <br><br>
        {% endfor %}
        {{ form.recaptcha }}
        <br>
        {{ form.submit(class="btn btn-primary")}}

        {{ form.csrf_token }}
      </form>
      <br>
    </div>
    <div class="col-lg-5" align="center">
      <!--  will implement functions to query entire database -->
      <br><br>
      <h1> Check Overall Statistics </h1>
      <p>
        <i> Because who doesn't like big data? </i>
      </p>
      <table class="table table-bordered table-hover">
        <tbody>
          <tr>
            <th scope="row">Total Number of Posts</th>
            <td>{{ numPosts | length}}</td>
          </tr>
          <tr>
            <th scope="row">Total Number of Post Views</th>
            <td> {{ totalNumViews }}</td>
          </tr>
          <tr>
            <th scope="row">Total Number of Likes</th>
            <td>{{ totalNumLikes }}</td>
          </tr>
          <tr>
            <th scope="row">Total Number of Dislikes</th>
            <td> {{ totalNumDislikes }}</td>
          </tr>
          <tr>
            <th scope="row">Most Likes on a Post</th>
            <td> {{ mostLiked }} </td>
          </tr>
          <tr>
            <th scope="row">Most Dislikes on a Post</th>
            <td> {{ mostDisliked }} </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-lg-1">
    </div>
  </div>
</div>
{% endblock %}
{% block scripts %} {{ super() }}
{% endblock %}
